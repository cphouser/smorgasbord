{% extends "layout.jinja2" %}


{% block toolbox %}
  {% include "link_tb.jinja2" %}
{% endblock %}

{% block content %}
  <div class="card">
    {% for win_id, window in windows.items() %}
      <b>Window:</b> {{ win_id }} ({{ window.count }} tabs)
      <b>Devices:</b> {{ window.devices }} 
      <table>
        <tr>
          {% for name in columns %}
            <td class="colname">{{ name }}</td>
          {% endfor %}
        </tr>
        {% for link in window.links %}
          <tr>
            <td class="select">
              <input type="checkbox", name="link", value="{{ link.id }}">
            </td>
            <td class="time">
              {{ link.time }}
            </td>
            <td class="duration">
              {{ link.duration }}
            </td>
            <td class="title">
              <a href=# class="title" data-link-id="{{ link.id }}" title="{{ link.title }}">
                {{ link.title }}
              </a>
            </td>
            <td class="url">
              <a href={{ link.url }} class="url" data-link-id="{{ link.id }}" title="{{ link.url }}">
                {{ link.url }}
              </a>
            </td>
            <td class="tags">
              {% if not link.tags %}
                Not Stored
              {% else %}
                <a href=# class="tags" data-link-id="{{ link.id }}">
                  {{ link.tags }}
                </a>
              {% endif %}
            </td>
          </tr>
        <tr><td colspan=6>
            <div class="desc" id="{{ link.id }}" style="display:none"
                 data-showing="none"></div>
        </td></tr>
      {% endfor %}
      </table>
    {% endfor %}
  </div>
{% endblock %}
